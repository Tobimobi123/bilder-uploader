"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/upload";
exports.ids = ["pages/api/upload"];
exports.modules = {

/***/ "(api-node)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   protectWithBasicAuth: () => (/* binding */ protectWithBasicAuth)\n/* harmony export */ });\nfunction protectWithBasicAuth(req, res) {\n    const auth = req.headers.authorization;\n    const expected = process.env.UPLOAD_PASSWORD;\n    if (!auth || !auth.startsWith('Basic ') || !expected) {\n        res.status(401).setHeader('WWW-Authenticate', 'Basic').end('Auth erforderlich');\n        return false;\n    }\n    const decoded = Buffer.from(auth.split(' ')[1], 'base64').toString();\n    const [_, password] = decoded.split(':');\n    if (password !== expected) {\n        res.status(401).setHeader('WWW-Authenticate', 'Basic').end('Falsches Passwort');\n        return false;\n    }\n    return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9hdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFFTyxTQUFTQSxxQkFBcUJDLEdBQW1CLEVBQUVDLEdBQW9CO0lBQzVFLE1BQU1DLE9BQU9GLElBQUlHLE9BQU8sQ0FBQ0MsYUFBYTtJQUN0QyxNQUFNQyxXQUFXQyxRQUFRQyxHQUFHLENBQUNDLGVBQWU7SUFFNUMsSUFBSSxDQUFDTixRQUFRLENBQUNBLEtBQUtPLFVBQVUsQ0FBQyxhQUFhLENBQUNKLFVBQVU7UUFDcERKLElBQUlTLE1BQU0sQ0FBQyxLQUFLQyxTQUFTLENBQUMsb0JBQW9CLFNBQVNDLEdBQUcsQ0FBQztRQUMzRCxPQUFPO0lBQ1Q7SUFFQSxNQUFNQyxVQUFVQyxPQUFPQyxJQUFJLENBQUNiLEtBQUtjLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLFVBQVVDLFFBQVE7SUFDbEUsTUFBTSxDQUFDQyxHQUFHQyxTQUFTLEdBQUdOLFFBQVFHLEtBQUssQ0FBQztJQUVwQyxJQUFJRyxhQUFhZCxVQUFVO1FBQ3pCSixJQUFJUyxNQUFNLENBQUMsS0FBS0MsU0FBUyxDQUFDLG9CQUFvQixTQUFTQyxHQUFHLENBQUM7UUFDM0QsT0FBTztJQUNUO0lBRUEsT0FBTztBQUNUIiwic291cmNlcyI6WyIvVXNlcnMvdG9iaWFzbWF0ZXJuL0RvY3VtZW50cy9iaWxkZXItdXBsb2FkZXIvbGliL2F1dGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJvdGVjdFdpdGhCYXNpY0F1dGgocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpOiBib29sZWFuIHtcbiAgY29uc3QgYXV0aCA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gIGNvbnN0IGV4cGVjdGVkID0gcHJvY2Vzcy5lbnYuVVBMT0FEX1BBU1NXT1JEO1xuXG4gIGlmICghYXV0aCB8fCAhYXV0aC5zdGFydHNXaXRoKCdCYXNpYyAnKSB8fCAhZXhwZWN0ZWQpIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2V0SGVhZGVyKCdXV1ctQXV0aGVudGljYXRlJywgJ0Jhc2ljJykuZW5kKCdBdXRoIGVyZm9yZGVybGljaCcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGRlY29kZWQgPSBCdWZmZXIuZnJvbShhdXRoLnNwbGl0KCcgJylbMV0sICdiYXNlNjQnKS50b1N0cmluZygpO1xuICBjb25zdCBbXywgcGFzc3dvcmRdID0gZGVjb2RlZC5zcGxpdCgnOicpO1xuXG4gIGlmIChwYXNzd29yZCAhPT0gZXhwZWN0ZWQpIHtcbiAgICByZXMuc3RhdHVzKDQwMSkuc2V0SGVhZGVyKCdXV1ctQXV0aGVudGljYXRlJywgJ0Jhc2ljJykuZW5kKCdGYWxzY2hlcyBQYXNzd29ydCcpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuIl0sIm5hbWVzIjpbInByb3RlY3RXaXRoQmFzaWNBdXRoIiwicmVxIiwicmVzIiwiYXV0aCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwiZXhwZWN0ZWQiLCJwcm9jZXNzIiwiZW52IiwiVVBMT0FEX1BBU1NXT1JEIiwic3RhcnRzV2l0aCIsInN0YXR1cyIsInNldEhlYWRlciIsImVuZCIsImRlY29kZWQiLCJCdWZmZXIiLCJmcm9tIiwic3BsaXQiLCJ0b1N0cmluZyIsIl8iLCJwYXNzd29yZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/auth.ts\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fupload.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fupload.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/upload.ts */ \"(api-node)/./pages/api/upload.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/upload\",\n        pathname: \"/api/upload\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGdXBsb2FkJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZ1cGxvYWQudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDa0Q7QUFDbEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGlEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxpREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS91cGxvYWQudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VwbG9hZFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VwbG9hZFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fupload.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/upload.ts":
/*!*****************************!*\
  !*** ./pages/api/upload.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/auth */ \"(api-node)/./lib/auth.ts\");\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! formidable */ \"formidable\");\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cloudinary */ \"cloudinary\");\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cloudinary__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([formidable__WEBPACK_IMPORTED_MODULE_1__]);\nformidable__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\ncloudinary__WEBPACK_IMPORTED_MODULE_2__.v2.config({\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET\n});\nasync function handler(req, res) {\n    if (req.method !== 'POST') return res.status(405).end('Method not allowed');\n    if (!(0,_lib_auth__WEBPACK_IMPORTED_MODULE_0__.protectWithBasicAuth)(req, res)) return;\n    const form = new formidable__WEBPACK_IMPORTED_MODULE_1__.IncomingForm({\n        keepExtensions: true\n    });\n    form.parse(req, async (err, fields, files)=>{\n        if (err || !files.file) {\n            console.error('Fehler beim Parsen:', err || 'Keine Datei');\n            return res.status(500).json({\n                error: 'Formular konnte nicht verarbeitet werden'\n            });\n        }\n        const file = Array.isArray(files.file) ? files.file[0] : files.file;\n        try {\n            const result = await cloudinary__WEBPACK_IMPORTED_MODULE_2__.v2.uploader.upload(file.filepath, {\n                public_id: 'latest',\n                overwrite: true,\n                invalidate: true,\n                format: 'bmp'\n            });\n            console.log('Upload erfolgreich:', result.secure_url);\n            res.status(200).json({\n                url: `https://res.cloudinary.com/${cloudinary__WEBPACK_IMPORTED_MODULE_2__.v2.config().cloud_name}/image/upload/latest.bmp`\n            });\n        } catch (error) {\n            console.error('Fehler beim Hochladen:', error);\n            res.status(500).json({\n                error: 'Upload zu Cloudinary fehlgeschlagen'\n            });\n        }\n    });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS91cGxvYWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWtEO0FBQ1I7QUFDSTtBQUd2QyxNQUFNSSxTQUFTO0lBQ3BCQyxLQUFLO1FBQ0hDLFlBQVk7SUFDZDtBQUNGLEVBQUU7QUFFRkgsMENBQVVBLENBQUNDLE1BQU0sQ0FBQztJQUNoQkcsWUFBWUMsUUFBUUMsR0FBRyxDQUFDQyxxQkFBcUI7SUFDN0NDLFNBQVNILFFBQVFDLEdBQUcsQ0FBQ0csa0JBQWtCO0lBQ3ZDQyxZQUFZTCxRQUFRQyxHQUFHLENBQUNLLHFCQUFxQjtBQUMvQztBQUVlLGVBQWVDLFFBQVFDLEdBQW1CLEVBQUVDLEdBQW9CO0lBQzdFLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxHQUFHLENBQUM7SUFFdEQsSUFBSSxDQUFDcEIsK0RBQW9CQSxDQUFDZ0IsS0FBS0MsTUFBTTtJQUVyQyxNQUFNSSxPQUFPLElBQUlwQixvREFBWUEsQ0FBQztRQUFFcUIsZ0JBQWdCO0lBQUs7SUFFckRELEtBQUtFLEtBQUssQ0FBQ1AsS0FBSyxPQUFPUSxLQUFLQyxRQUFRQztRQUNsQyxJQUFJRixPQUFPLENBQUNFLE1BQU1DLElBQUksRUFBRTtZQUN0QkMsUUFBUUMsS0FBSyxDQUFDLHVCQUF1QkwsT0FBTztZQUM1QyxPQUFPUCxJQUFJRSxNQUFNLENBQUMsS0FBS1csSUFBSSxDQUFDO2dCQUFFRCxPQUFPO1lBQTJDO1FBQ2xGO1FBRUEsTUFBTUYsT0FBT0ksTUFBTUMsT0FBTyxDQUFDTixNQUFNQyxJQUFJLElBQUlELE1BQU1DLElBQUksQ0FBQyxFQUFFLEdBQUdELE1BQU1DLElBQUk7UUFFbkUsSUFBSTtZQUNGLE1BQU1NLFNBQVMsTUFBTTlCLDBDQUFVQSxDQUFDK0IsUUFBUSxDQUFDQyxNQUFNLENBQUNSLEtBQUtTLFFBQVEsRUFBRTtnQkFDN0RDLFdBQVc7Z0JBQ1hDLFdBQVc7Z0JBQ1hDLFlBQVk7Z0JBQ1pDLFFBQVE7WUFDVjtZQUVBWixRQUFRYSxHQUFHLENBQUMsdUJBQXVCUixPQUFPUyxVQUFVO1lBQ3BEekIsSUFBSUUsTUFBTSxDQUFDLEtBQUtXLElBQUksQ0FBQztnQkFBRWEsS0FBSyxDQUFDLDJCQUEyQixFQUFFeEMsMENBQVVBLENBQUNDLE1BQU0sR0FBR0csVUFBVSxDQUFDLHdCQUF3QixDQUFDO1lBQUM7UUFDckgsRUFBRSxPQUFPc0IsT0FBTztZQUNkRCxRQUFRQyxLQUFLLENBQUMsMEJBQTBCQTtZQUN4Q1osSUFBSUUsTUFBTSxDQUFDLEtBQUtXLElBQUksQ0FBQztnQkFBRUQsT0FBTztZQUFzQztRQUN0RTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy90b2JpYXNtYXRlcm4vRG9jdW1lbnRzL2JpbGRlci11cGxvYWRlci9wYWdlcy9hcGkvdXBsb2FkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb3RlY3RXaXRoQmFzaWNBdXRoIH0gZnJvbSAnQC9saWIvYXV0aCc7XG5pbXBvcnQgeyBJbmNvbWluZ0Zvcm0gfSBmcm9tICdmb3JtaWRhYmxlJztcbmltcG9ydCB7IHYyIGFzIGNsb3VkaW5hcnkgfSBmcm9tICdjbG91ZGluYXJ5JztcbmltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBhcGk6IHtcbiAgICBib2R5UGFyc2VyOiBmYWxzZSxcbiAgfSxcbn07XG5cbmNsb3VkaW5hcnkuY29uZmlnKHtcbiAgY2xvdWRfbmFtZTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9DTE9VRF9OQU1FISxcbiAgYXBpX2tleTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfS0VZISxcbiAgYXBpX3NlY3JldDogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfU0VDUkVUISxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHJldHVybiByZXMuc3RhdHVzKDQwNSkuZW5kKCdNZXRob2Qgbm90IGFsbG93ZWQnKTtcblxuICBpZiAoIXByb3RlY3RXaXRoQmFzaWNBdXRoKHJlcSwgcmVzKSkgcmV0dXJuO1xuXG4gIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKHsga2VlcEV4dGVuc2lvbnM6IHRydWUgfSk7XG5cbiAgZm9ybS5wYXJzZShyZXEsIGFzeW5jIChlcnIsIGZpZWxkcywgZmlsZXMpID0+IHtcbiAgICBpZiAoZXJyIHx8ICFmaWxlcy5maWxlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGZWhsZXIgYmVpbSBQYXJzZW46JywgZXJyIHx8ICdLZWluZSBEYXRlaScpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGb3JtdWxhciBrb25udGUgbmljaHQgdmVyYXJiZWl0ZXQgd2VyZGVuJyB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWxlID0gQXJyYXkuaXNBcnJheShmaWxlcy5maWxlKSA/IGZpbGVzLmZpbGVbMF0gOiBmaWxlcy5maWxlO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsb3VkaW5hcnkudXBsb2FkZXIudXBsb2FkKGZpbGUuZmlsZXBhdGgsIHtcbiAgICAgICAgcHVibGljX2lkOiAnbGF0ZXN0JyxcbiAgICAgICAgb3ZlcndyaXRlOiB0cnVlLFxuICAgICAgICBpbnZhbGlkYXRlOiB0cnVlLFxuICAgICAgICBmb3JtYXQ6ICdibXAnLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWQgZXJmb2xncmVpY2g6JywgcmVzdWx0LnNlY3VyZV91cmwpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1cmw6IGBodHRwczovL3Jlcy5jbG91ZGluYXJ5LmNvbS8ke2Nsb3VkaW5hcnkuY29uZmlnKCkuY2xvdWRfbmFtZX0vaW1hZ2UvdXBsb2FkL2xhdGVzdC5ibXBgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGZWhsZXIgYmVpbSBIb2NobGFkZW46JywgZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ1VwbG9hZCB6dSBDbG91ZGluYXJ5IGZlaGxnZXNjaGxhZ2VuJyB9KTtcbiAgICB9XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbInByb3RlY3RXaXRoQmFzaWNBdXRoIiwiSW5jb21pbmdGb3JtIiwidjIiLCJjbG91ZGluYXJ5IiwiY29uZmlnIiwiYXBpIiwiYm9keVBhcnNlciIsImNsb3VkX25hbWUiLCJwcm9jZXNzIiwiZW52IiwiQ0xPVURJTkFSWV9DTE9VRF9OQU1FIiwiYXBpX2tleSIsIkNMT1VESU5BUllfQVBJX0tFWSIsImFwaV9zZWNyZXQiLCJDTE9VRElOQVJZX0FQSV9TRUNSRVQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwiZW5kIiwiZm9ybSIsImtlZXBFeHRlbnNpb25zIiwicGFyc2UiLCJlcnIiLCJmaWVsZHMiLCJmaWxlcyIsImZpbGUiLCJjb25zb2xlIiwiZXJyb3IiLCJqc29uIiwiQXJyYXkiLCJpc0FycmF5IiwicmVzdWx0IiwidXBsb2FkZXIiLCJ1cGxvYWQiLCJmaWxlcGF0aCIsInB1YmxpY19pZCIsIm92ZXJ3cml0ZSIsImludmFsaWRhdGUiLCJmb3JtYXQiLCJsb2ciLCJzZWN1cmVfdXJsIiwidXJsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/upload.ts\n");

/***/ }),

/***/ "cloudinary":
/*!*****************************!*\
  !*** external "cloudinary" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("cloudinary");

/***/ }),

/***/ "formidable":
/*!*****************************!*\
  !*** external "formidable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("formidable");;

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fupload.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();